<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">





<h:body>
	<style>
#tabStore td {
	background: #0d83e321 !important;
	height: 29px;
	color: #0f0e0e !important;
	border-color: #3F729B;
}

.ui-selectonemenu-filter-container {
	Width: 100% !important;
	direction: rtl;
}

.ui-selectonemenu-items-wrapper {
	direction: rtl;
}

.ui-selectonemenu-panel .ui-selectonemenu-filter {
	padding-right: 35px;
}

.ui-selectonemenu .ui-selectonemenu-label {
	text-align: right !important;
}

.card h1:first-child {
	font-weight: bold;
	font-size: 26px;
}

h1 .fa {
	color: #7CB342;
}

.card h1:first-child {
	margin-top: 26px;
	margin-right: 45px;
}

body .ui-chkbox .ui-chkbox-box {
	width: 22px !important;
	height: 22px !important;
	margin-top: -4px !important;
}

body .ui-accordion .ui-accordion-header {
	direction: rtl;
}

.ui-selectonemenu-panel .ui-selectonemenu-list-item {
	font-size: small !important;
	text-align: right;
	border-bottom: 1px solid black;
}

.ui-selectonemenu .ui-selectonemenu-label {
	font-weight: bolder !important;
	font-size: small !important;
}

.ui-selectonemenu-filter-container {
	Width: 100% !important;
	direction: rtl;
}

.ui-selectcheckboxmenu-panel .ui-selectcheckboxmenu-list-item {
	text-align: right;
	direction: rtl;
}

.ui-selectcheckboxmenu-panel .ui-selectcheckboxmenu-list-item label {
	margin-right: 2pc;
}

body .ui-selectcheckboxmenu-panel .ui-selectcheckboxmenu-header .ui-chkbox
	{
	margin: 0px 20px 0 1px;
	direction: rtl;
	float: right;
}

body .ui-selectcheckboxmenu-panel .ui-selectcheckboxmenu-header .ui-selectcheckboxmenu-close
	{
	margin-right: -46px;
}

body .ui-selectcheckboxmenu .ui-selectcheckboxmenu-label-container .ui-selectcheckboxmenu-label
	{
	padding-right: 29px;
}

body .ui-selectcheckboxmenu-panel .ui-selectcheckboxmenu-header .ui-selectcheckboxmenu-filter-container .ui-inputfield
	{
	text-align: right;
}

.ui-datatable th.ui-state-default {
	background: #607D8B !important;
	color: #ffffff !important;
	border-color: #607D8B;
	height: 40px;
}

.outputText-Bold {
	font-weight: bold;
	font-size: 16px;
	float: right;
	padding-top: 5px;
	margin-left: 32px;
}

.ui-datatable .ui-column-filter {
	width: 250px;
}

body .ui-dialog .ui-dialog-titlebar {
	float: right;
	width: 97%;
	background-color: #472d985c;
}
</style>
	<div class="image-box-footer" style="float: left">
		<!-- Small modal -->

		<h:panelGroup rendered="#{(stockEntryBean.enableAccept)}">
			<p:commandButton value="#{msg['accept']}" immediate="true"
				action="#{stockEntryBean.accept}" icon="ui-icon ui-icon-check">
			</p:commandButton>
		</h:panelGroup>
		<h:panelGroup id="printBtnGrp">

			<p:outputLabel value="ملحوظة: يجب إدخل الرقم التسلسلي قبل الطباعة"
				rendered="#{(stockEntryBean.enablePrint)}"></p:outputLabel>
			<p:spacer height="10xp"></p:spacer>
			<p:commandButton value="طباعة" icon="ui-icon ui-icon-print "
				onclick="this.form.target='_blank'" ajax="false"
				rendered="#{(stockEntryBean.enablePrint)}"
				action="#{stockEntryBean.printMemoReport}" styleClass="purple-btn"></p:commandButton>
		</h:panelGroup>



	</div>
	<div class="card card-w-title" dir="rtl">
		<p:growl widgetVar="growlWV" />
		<div class="ui-g">
			<div class="ui-g-12 ui-md-6 ui-lg-1">
				<p:outputLabel value=" الاسم " />
			</div>
			<div class="ui-g-12 ui-md-6 ui-lg-3">
				<p:outputLabel
					value=" #{stockEntryBean.stockEntryMaster.arcUser.firstName}"></p:outputLabel>
			</div>

		</div>
		<br></br>
		<div class="ui-g">
			<div class="ui-g-12 ui-md-6 ui-lg-1">
				<p:outputLabel styleClass="btxt" value="الادارة"></p:outputLabel>
			</div>
			<div class="ui-g-12 ui-md-6 ui-lg-3">
				<p:outputLabel
					value="#{stockEntryBean.stockEntryMaster.arcUser.wrkSection.sectionName}"></p:outputLabel>
			</div>

		</div>
		<br></br>
		<div class="ui-g">
			<div class="ui-g-12 ui-md-6 ui-lg-1">
				<p:outputLabel styleClass="btxt" value="التاريخ "></p:outputLabel>
			</div>
			<div class="ui-g-12 ui-md-6 ui-lg-3">
				<p:outputLabel
					value="#{stockEntryBean.stockEntryMaster.stockFinEntryHdate}"></p:outputLabel>
			</div>

		</div>
		<h:panelGroup rendered="#{(stockEntryBean.enablePrint)}">
			<div class="ui-g">
				<div class="ui-g-12 ui-md-6 ui-lg-1">
					<p:outputLabel value="الرقم التسلسلي "></p:outputLabel>
				</div>
				<div class="ui-g-12 ui-md-6 ui-lg-3">
					<p:inputText id="serialNumId" required="true"
						requiredMessage="من فضلك أدخل الرقم التسلسلي"
						value="#{stockEntryBean.stockEntryMaster.stockFinEntryNo}"
						class="form-control">
						<p:ajax process="@this" onstart="PF('dlgditSerial').show();"
							listener="#{stockEntryBean.showPrintBtn}" />
					</p:inputText>
				</div>

			</div>
		</h:panelGroup>
		<br></br>
		<div class="ui-g">
			<div class="ui-g-12 ui-md-6 ui-lg-1">
				<p:outputLabel styleClass="btxt" value="الملاحظات "></p:outputLabel>
			</div>
			<div class="ui-g-12 ui-md-6 ui-lg-3">
				<h:outputLabel value=""></h:outputLabel>
			</div>
		</div>

		<div class="row">
			<h:panelGroup id="table">
				<div class="col-md-12 ">
					<div class="table-responsive">
						<hr></hr>
						<table id="tabStore" class="table table-striped table-hover">
							<thead>
								<tr>

									<th>رقم</th>
									<th>اسم الصنف</th>
									<th>حالة الصنف</th>
									<th>العدد</th>
									<th>الوحدة</th>
									<th>سعر الوحدة</th>
									<th>القيمة الكلية</th>
									<th>المواصفات</th>

								</tr>
							</thead>
							<tbody>
								<ui:repeat var="det" varStatus="x"
									value="#{stockEntryBean.stockEntryMaster.stockInDetailsList}">
									<tr>
										<td>#{x.index+1}</td>
										<td>#{det.article.name} - #{det.article.code}</td>
										<td>#{det.articleStatusName}</td>
										<td><h:inputText value="#{det.qty}"
												disabled="#{!stockEntryBean.enableEditMgr}"
												style="width:60px !important;">
											</h:inputText></td>
										<td>#{det.uniteName}</td>
										<td><h:inputText value="#{det.price}"
												disabled="#{!stockEntryBean.enableEditMgr}"
												style="width:60px !important;">
											</h:inputText></td>
										<td>#{det.total}"</td>
										<td>#{det.notes}</td>
									</tr>
								</ui:repeat>
							</tbody>
						</table>
					</div>
				</div>
			</h:panelGroup>
		</div>

		<div class="col-md-12 ">
			<hr></hr>
			<br />
			<div class="col-md-4" style="float: left;">
				<!-- Small modal -->
				<!-- Dialog Accept -->
				<p:dialog header="#{msg['add.explanation.confirmation']}"
					widgetVar="dlgAccept" height="300" width="500">
					<h:panelGroup id="refPopupAccept">
						<p:panelGrid columns="2"
							columnClasses="ui-grid-col-5,ui-grid-col-12" layout="grid"
							styleClass="ui-panelgrid-blank form-group"
							style="border:0px none; background-color:transparent; direction:rtl">

							<h:outputLabel value="#{msg['redirect.transaction']}" />
							<p:selectOneMenu id="typPurpose"
								value="#{stockEntryBean.applicationPurpose}" var="d"
								style=" width:100%">

								<f:selectItems var="pp" itemLabel="#{pp.purposeName}"
									itemValue="#{pp.idStr} " value="#{stockEntryBean.wrkPurposes}" />
							</p:selectOneMenu>

							<h:outputLabel styleClass="btxt" value="#{msg['explanation']}" />
							<p:inputTextarea cols="30" rows="5" style="width:100%"
								value="#{stockEntryBean.wrkAppComment}">
							</p:inputTextarea>


						</p:panelGrid>
						<br></br>
						<div style="direction: initial;">


							<p:commandButton value="#{msg['back']}" immediate="true"
								icon="ui-icon ui-icon-keyboard-arrow-left"
								onclick="PF('dlgAccept').hide();" styleClass=" orange-btn">
							</p:commandButton>
							<p:spacer width="4"></p:spacer>
							<!-- 	<button type="button" class="btn btn-green" -->
							<!-- 	data-dismiss="modal">#{msg['back']}</button> -->
							<p:commandButton value="#{msg['confirmation']}"
								icon="ui-icon ui-icon-check" action="#{stockEntryBean.accept}"
								ajax="false">
								<f:ajax execute="refPopupAccept"></f:ajax>
							</p:commandButton>

						</div>
					</h:panelGroup>
				</p:dialog>
				<p:dialog header="تعديل الرقم التسلسلي" widgetVar="dlgditSerial"
					width="30%" dir="rtl">
					<h:panelGroup id="editSerialPopup">
						<h:outputLabel value="هل تريد حفظ الرقم التسلسلي الجديد ؟"></h:outputLabel>
						<br />
						<br />
						<div align="center">
							<p:commandButton id="yesBtn" value="نعم " process="serialNumId"
								styleClass="cyan-btn" immediate="true"
								onclick="PF('dlgditSerial').hide();">
								<p:ajax listener="#{stockEntryBean.updateSerialNum}"
									update="serialNumId,printBtnGrp" process="@this" />
							</p:commandButton>
							<p:spacer height="10px"></p:spacer>
							<p:commandButton id="noBtn" value="لا " styleClass="red-btn"
								onclick="PF('dlgditSerial').hide();">
								<p:ajax listener="#{stockEntryBean.cancleUpdateSerialNum}"
									process="@this" update="serialNumId" />
							</p:commandButton>
						</div>
					</h:panelGroup>
				</p:dialog>
				<br></br>
			</div>
		</div>
	</div>
</h:body>
</html>
