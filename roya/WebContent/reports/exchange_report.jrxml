<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.3.0.final using JasperReports Library version 6.3.0  -->
<!-- 2019-11-27T15:08:16 -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="exchange_report" pageWidth="863" pageHeight="610" orientation="Landscape" columnWidth="863" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="fb189b38-8952-4b00-b770-6179c82ba575">
	<property name="ireport.zoom" value="0.8689931392100638"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<property name="com.jaspersoft.studio.unit.pageHeight" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="orcl-db"/>
	<parameter name="exchange_req_no" class="java.lang.Integer"/>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["F:/projects/methnab/roya/WebContent/reports/sub_exchange_report2.jrxml"]]></defaultValueExpression>
	</parameter>
	<parameter name="compName" class="java.lang.String"/>
	<queryString>
		<![CDATA[SELECT  GEN.SERIALNUMBER,(
select us.empname   FROM hrs_signs, arc_users us
where hrs_signs.sign_user_id = us.user_id and doc_id=$P{exchange_req_no} and   sign_step_id = 2 
)REQ_NAME_BOSS,
(
select  WRK_PROFILE_SIGN.DDD  FROM hrs_signs,WRK_PROFILE_SIGN
where  doc_id=$P{exchange_req_no} and HRS_SIGNS.SIGN_USER_ID = WRK_PROFILE_SIGN.USER_ID and  sign_step_id = 2 
)REQ_SIGN_BOSS,
(
select HRS_SIGNS.SIGN_DATE  FROM hrs_signs,WRK_PROFILE_SIGN
where doc_id=$P{exchange_req_no} and HRS_SIGNS.SIGN_USER_ID = WRK_PROFILE_SIGN.USER_ID and  sign_step_id = 2 
)REQ_sign_DATE_BOSS,
(select HRS_SIGNS.SIGN_JOB_NAME  FROM hrs_signs,WRK_PROFILE_SIGN
where doc_id=$P{exchange_req_no} and HRS_SIGNS.SIGN_USER_ID = WRK_PROFILE_SIGN.USER_ID and  sign_step_id = 4)
STORE_MGR,
(select  WRK_PROFILE_SIGN.DDD  FROM hrs_signs,WRK_PROFILE_SIGN
where doc_id=$P{exchange_req_no} and HRS_SIGNS.SIGN_USER_ID = WRK_PROFILE_SIGN.USER_ID and  sign_step_id = 4
)STORE_MGR_SIGN,(
select HRS_SIGNS.SIGN_DATE  FROM hrs_signs,WRK_PROFILE_SIGN
where doc_id=$P{exchange_req_no} and HRS_SIGNS.SIGN_USER_ID = WRK_PROFILE_SIGN.USER_ID and  sign_step_id = 4
)STORE_MGR_SIGN_DATE,(
select HRS_SIGNS.SIGN_JOB_NAME   FROM hrs_signs,WRK_PROFILE_SIGN
where doc_id=$P{exchange_req_no} and HRS_SIGNS.SIGN_USER_ID = WRK_PROFILE_SIGN.USER_ID and  sign_step_id = 5
)STORE_DEAN_NAME,(
select  WRK_PROFILE_SIGN.DDD  FROM hrs_signs,WRK_PROFILE_SIGN
where doc_id=$P{exchange_req_no} and HRS_SIGNS.SIGN_USER_ID = WRK_PROFILE_SIGN.USER_ID and  sign_step_id = 5
)STORE_DEAN_SIGN,(
select HRS_SIGNS.SIGN_DATE   FROM hrs_signs,WRK_PROFILE_SIGN
where doc_id=$P{exchange_req_no} and HRS_SIGNS.SIGN_USER_ID = WRK_PROFILE_SIGN.USER_ID and  sign_step_id = 5
)STORE_DEAN_SIGN_DATE,

(
select wh.STRNAME  FROM hrs_signs, WHS_WAREHOUSES wh ,ARTICLE ar,

(

SELECT INV_G_R_NO, min(ITEMID) ITEMID FROM TDR_INV_REQ_DET WHERE INV_G_R_NO = $P{exchange_req_no}  GROUP BY INV_G_R_NO  

)TDR_INV_REQ_DET
where doc_id = $P{exchange_req_no}  and  sign_step_id = 5
AND ar.ID = ITEMID 
AND wh.STRNO = ar.STRNO
)STORE_NAME,
(
select HRS_SIGNS.SIGN_JOB_NAME   FROM hrs_signs,WRK_PROFILE_SIGN
where doc_id=$P{exchange_req_no} and HRS_SIGNS.SIGN_USER_ID = WRK_PROFILE_SIGN.USER_ID and  sign_step_id = 6
)RECIEVER_NAME,
(
select ws.SEC_NAME   FROM hrs_signs,ARC_USERS us, WRK_SECTION ws
WHERE
us.SEC_ID = ws.ID AND  us.USER_ID = HRS_SIGNS.SIGN_USER_ID and
doc_id= $P{exchange_req_no} and   sign_step_id = 6
)RECIEVER_SEC_NAME,
(
select  WRK_PROFILE_SIGN.DDD  FROM hrs_signs,WRK_PROFILE_SIGN
where doc_id=$P{exchange_req_no} and HRS_SIGNS.SIGN_USER_ID = WRK_PROFILE_SIGN.USER_ID and  sign_step_id = 6
)RECIEVER_sign,(
select HRS_SIGNS.SIGN_DATE  FROM hrs_signs,WRK_PROFILE_SIGN
where doc_id=$P{exchange_req_no} and HRS_SIGNS.SIGN_USER_ID = WRK_PROFILE_SIGN.USER_ID and  sign_step_id =6
)RECIEVER_sign_DATE,(
select us.empname  FROM hrs_signs,WRK_PROFILE_SIGN, arc_users us
where  hrs_signs.sign_user_id = us.user_id and doc_id=$P{exchange_req_no} and HRS_SIGNS.SIGN_USER_ID = WRK_PROFILE_SIGN.USER_ID and  sign_step_id = 3
)PRIV_OWNER_NAME,(
select  WRK_PROFILE_SIGN.DDD  FROM hrs_signs,WRK_PROFILE_SIGN
where doc_id=$P{exchange_req_no} and HRS_SIGNS.SIGN_USER_ID = WRK_PROFILE_SIGN.USER_ID and  sign_step_id = 66
)PRIV_OWNER_sign,(
select HRS_SIGNS.SIGN_DATE  FROM hrs_signs,WRK_PROFILE_SIGN
where doc_id=$P{exchange_req_no} and HRS_SIGNS.SIGN_USER_ID = WRK_PROFILE_SIGN.USER_ID and  sign_step_id = 3
)PRIV_OWNER_sign_DATE

 FROM TDR_INV_GNRL_REQ gen


where GEN.INV_G_R_NO=$P{exchange_req_no}]]>
	</queryString>
	<field name="SERIALNUMBER" class="java.math.BigDecimal"/>
	<field name="REQ_NAME_BOSS" class="java.lang.String"/>
	<field name="REQ_SIGN_BOSS" class="java.io.InputStream"/>
	<field name="REQ_SIGN_DATE_BOSS" class="java.lang.String"/>
	<field name="STORE_MGR" class="java.lang.String"/>
	<field name="STORE_MGR_SIGN" class="java.io.InputStream"/>
	<field name="STORE_MGR_SIGN_DATE" class="java.lang.String"/>
	<field name="STORE_DEAN_NAME" class="java.lang.String"/>
	<field name="STORE_DEAN_SIGN" class="java.io.InputStream"/>
	<field name="STORE_DEAN_SIGN_DATE" class="java.lang.String"/>
	<field name="RECIEVER_NAME" class="java.lang.String"/>
	<field name="RECIEVER_SIGN" class="java.io.InputStream"/>
	<field name="RECIEVER_SEC_NAME" class="java.lang.String"/>
	<field name="RECIEVER_SIGN_DATE" class="java.lang.String"/>
	<field name="PRIV_OWNER_NAME" class="java.lang.String"/>
	<field name="PRIV_OWNER_SIGN" class="java.io.InputStream"/>
	<field name="PRIV_OWNER_SIGN_DATE" class="java.lang.String"/>
	<field name="STORE_NAME" class="java.lang.String"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="183" splitType="Stretch">
			<property name="com.jaspersoft.studio.unit.height" value="cm"/>
			<property name="com.jaspersoft.studio.layout"/>
			<staticText>
				<reportElement x="664" y="54" width="128" height="18" uuid="157a02b9-dd09-41f4-9863-6e6edf1962ee">
					<property name="com.jaspersoft.studio.unit.height" value="cm"/>
				</reportElement>
				<textElement>
					<font fontName="Arial" size="12"/>
				</textElement>
				<text><![CDATA[الشئون البلدية و القروية]]></text>
			</staticText>
			<textField>
				<reportElement positionType="FixRelativeToBottom" x="590" y="87" width="140" height="15" isRemoveLineWhenBlank="true" uuid="55eb9e1c-8222-4073-97e4-bf76e91963b3"/>
				<box>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{RECIEVER_SEC_NAME}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement positionType="FixRelativeToBottom" x="607" y="103" width="140" height="15" uuid="78b5c0d0-3542-4d8f-97c8-2ab15d98f78b"/>
				<box>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{STORE_NAME}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement positionType="FixRelativeToBottom" x="654" y="71" width="128" height="17" uuid="407d00fb-22c8-4a9d-ae29-bc872a0be601">
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="cm"/>
					<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="12" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{compName}]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<pageHeader>
		<band splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band splitType="Stretch"/>
	</columnHeader>
	<detail>
		<band height="24" splitType="Stretch">
			<subreport>
				<reportElement positionType="Float" x="0" y="0" width="863" height="22" isPrintInFirstWholeBand="true" uuid="246c5a19-eb39-4b66-8a2e-2c31e2b75edd"/>
				<subreportParameter name="SUBREPORT_DIR">
					<subreportParameterExpression><![CDATA[$P{SUBREPORT_DIR}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="exchange_req_no">
					<subreportParameterExpression><![CDATA[$P{exchange_req_no}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR}]]></subreportExpression>
			</subreport>
		</band>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="158" splitType="Stretch">
			<image scaleImage="FillFrame">
				<reportElement positionType="FixRelativeToBottom" x="0" y="58" width="108" height="20" uuid="546b0710-c096-4773-a455-b8c8b288a403"/>
				<imageExpression><![CDATA[$F{RECIEVER_SIGN}]]></imageExpression>
			</image>
			<textField>
				<reportElement positionType="FixRelativeToBottom" x="-43" y="78" width="190" height="15" uuid="6d3248a1-dc41-4d0d-ade6-2bd033b04f32"/>
				<box>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{RECIEVER_SIGN_DATE}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false">
				<reportElement positionType="FixRelativeToBottom" x="-43" y="43" width="190" height="15" uuid="6fc46d8e-23ce-41dc-bcfb-182d93cbbc9d"/>
				<box>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{RECIEVER_NAME}]]></textFieldExpression>
			</textField>
			<image scaleImage="FillFrame">
				<reportElement positionType="FixRelativeToBottom" x="186" y="58" width="190" height="20" uuid="540b13b9-a7c2-4e8e-9f79-97d4f4f130b6"/>
				<imageExpression><![CDATA[$F{STORE_DEAN_SIGN}]]></imageExpression>
			</image>
			<textField>
				<reportElement positionType="FixRelativeToBottom" x="188" y="43" width="190" height="15" uuid="0e637288-862e-4b35-91e3-169bd85e821b"/>
				<box>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{STORE_DEAN_NAME}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement positionType="FixRelativeToBottom" x="188" y="78" width="190" height="15" uuid="5e11d5f3-6412-4adc-b6d5-5050e1c87bb3"/>
				<box>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{STORE_DEAN_SIGN_DATE}]]></textFieldExpression>
			</textField>
			<image scaleImage="RetainShape">
				<reportElement positionType="FixRelativeToBottom" x="423" y="43" width="103" height="50" uuid="b73cfba9-cebb-4ae8-9198-4687dc8f070a"/>
				<imageExpression><![CDATA[$F{STORE_MGR_SIGN}]]></imageExpression>
			</image>
			<textField>
				<reportElement positionType="FixRelativeToBottom" x="378" y="43" width="190" height="15" uuid="c1db0b94-21a7-4f74-95e2-88be48957896"/>
				<box>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{STORE_MGR}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement positionType="FixRelativeToBottom" x="378" y="78" width="190" height="15" uuid="d599c8f5-c805-4262-9684-e388d79ecf4b"/>
				<box>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{STORE_MGR_SIGN_DATE}]]></textFieldExpression>
			</textField>
			<image scaleImage="FillFrame">
				<reportElement positionType="FixRelativeToBottom" x="566" y="58" width="190" height="20" uuid="c8e9956f-bdbc-4263-a94a-bb5a33603b13"/>
			</image>
			<textField>
				<reportElement positionType="FixRelativeToBottom" x="568" y="43" width="190" height="15" uuid="11458c70-de13-4f98-81d0-bc5ab1a5252e"/>
				<box>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{REQ_NAME_BOSS}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement positionType="FixRelativeToBottom" x="563" y="78" width="190" height="15" uuid="9bd534a8-f218-47a6-9484-09cb64412a4c"/>
				<box>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{REQ_SIGN_DATE_BOSS}]]></textFieldExpression>
			</textField>
			<image scaleImage="FillFrame">
				<reportElement positionType="FixRelativeToBottom" x="9" y="106" width="138" height="35" uuid="2043f3cc-f472-40ab-ab69-6f88a9327057"/>
				<imageExpression><![CDATA[$F{PRIV_OWNER_SIGN}]]></imageExpression>
			</image>
			<textField isBlankWhenNull="false">
				<reportElement positionType="FixRelativeToBottom" x="-42" y="99" width="173" height="15" uuid="3ffef89b-63d7-4962-8b03-f3fb5a54328e"/>
				<box>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{PRIV_OWNER_NAME}]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<summary>
		<band splitType="Stretch"/>
	</summary>
</jasperReport>
