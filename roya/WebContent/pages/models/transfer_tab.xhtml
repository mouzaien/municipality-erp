<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:b="http://bootsfaces.net/ui"
	xmlns:secc="http://www.springframework.org/security/tags">


<h:panelGroup id="hh">
	<style>
.ui-selectonemenu-filter-container {
	Width: 100% !important;
	direction: rtl;
}

.ui-selectonemenu-items-wrapper {
	direction: rtl;
}

.ui-selectonemenu-panel .ui-selectonemenu-filter {
	padding-right: 35px;
}

.ui-selectonemenu .ui-selectonemenu-label {
	text-align: right !important;
}

.card h1:first-child {
	float: right;;
	font-weight: bold;
	font-size: 26px;
}

h1 .fa {
	color: #7CB342;
}

.card h1:first-child {
	margin-top: 26px;
	margin-right: 45px;
}

body .ui-chkbox .ui-chkbox-box {
	width: 22px !important;
	height: 22px !important;
}
</style>
	<p:messages id="Msg" autoUpdate="true" closable="true" />
	<div>
		<p:panel>

			<f:facet name="header">
				<span class="fa fa-fw fa-exchange"></span> &nbsp;&nbsp; #{msg['transfer']}
         </f:facet>
			<div class="ui-g" style="float: left;">

				<p:commandButton value="#{msg['transfer']}" styleClass="cyan-btn"
					icon="fa fa-fw fa-exchange" immediate="true"
					action="#{mailDefenationBean.wrkSendAction}">
					<f:ajax execute="hh"></f:ajax>
				</p:commandButton>
			</div>
			<br />
			<br />
			<div class="ui-g">
				<div class="ui-g-12 ui-md-12 ui-lg-6">
					<p:panelGrid columns="2"
						columnClasses="ui-grid-col-4,ui-grid-col-8" layout="grid"
						styleClass="ui-panelgrid-blank">
						<p:outputLabel value="#{msg['explanation']}" />
						<h:panelGroup styleClass="md-inputfield">
							<p:inputTextarea style="width:100%;" rows="10"
								requiredMessage="#{msg['required.fields']}"
								value="#{mailDefenationBean.application.applicationUsercomment}"
								id="wrkcomm" />
							<label>أدخل الشرح</label>
						</h:panelGroup>
						<h:outputLabel value="#{msg['purpose']}*" />
						<p:selectOneMenu required="false" filter="true"
							style="width:100%;" var="d" filterMatchMode="contains"
							requiredMessage="#{msg['required.fields']}" id="wrkpurp00"
							value="#{mailDefenationBean.application.applicationPurpose}">
							<f:selectItem itemLabel="#{msg['select.purpose']} " itemValue="" />
							<f:selectItems value="#{mailDefenationBean.purposeMap}" />
						</p:selectOneMenu>


						<!-- 						<p:outputLabel value="#{msg['form.transaction.nb']}" -->
						<!-- 							rendered="#{mailDefenationBean.renderincomflag}" /> -->
						<!-- 						<p:selectBooleanCheckbox id="createIncomeItem" -->
						<!-- 							rendered="#{mailDefenationBean.renderincomflag}" -->
						<!-- 							value="#{mailDefenationBean.incomeNumFlag}"> -->
						<!-- 							<p:ajax process="createIncomeItem" /> -->
						<!-- 						</p:selectBooleanCheckbox> -->


					</p:panelGrid>
				</div>
				<div class="ui-g-12 ui-md-12 ui-lg-6">
					<p:accordionPanel>
						<p:tab title="#{msg['origin.receivers']}">
							<p:tabView>
								<p:tab title="#{msg['section.emplopyees']}"
									rendered="#{mailDefenationBean.currentUser.wrkRoleId != 1 ?'true':'false' }">
									<p:selectOneRadio id="empr" widgetVar="emp"
										value="#{mailDefenationBean.wrkReciever}" layout="grid"
										columns="3">
										<p:ajax update="mngr" process="empr"
											listener="#{mailDefenationBean.clearMngRadioList(valueChangeEvent)}" />
										<f:selectItems value="#{mailDefenationBean.empsMapInDept}" />
									</p:selectOneRadio>
								</p:tab>
								<p:tab title="#{msg['sections.directors']}"
									rendered="#{(mailDefenationBean.currentUser.wrkRoleId != 4 or mailDefenationBean.currentUser.deptId == 29)?'true':'false' }">
									<p:selectOneRadio id="mngr"
										value="#{mailDefenationBean.wrkReciever}" layout="grid"
										columns="3">
										<p:ajax update="empr" process="mngr"
											listener="#{mailDefenationBean.clearEmpRadioList(valueChangeEvent)}" />
										<f:selectItems value="#{mailDefenationBean.mgrMap}" />
									</p:selectOneRadio>
								</p:tab>
							</p:tabView>

						</p:tab>
						<p:tab title="#{msg['copy.receivers']}">
							<p:tabView>
								<p:tab title="#{msg['section.emplopyees']}"
									rendered="#{mailDefenationBean.currentUser.wrkRoleId != 1 ?'true':'false' }">
									<p:selectBooleanCheckbox id="checkAllFlagBTN2"
										value="#{mailDefenationBean.checkAllDeptEmpsFlag}">
										<p:ajax listener="#{mailDefenationBean.checkAllListner}"
											update="checkbox" event="change"></p:ajax>
									</p:selectBooleanCheckbox>
											&nbsp;&nbsp;
											<p:outputLabel value="#{msg['select.all']}" />
									<br />
									<br />
									<p:selectManyCheckbox layout="grid" columns="3" id="checkbox"
										value="#{mailDefenationBean.wrkCopyEmpRecievers}">
										<p:ajax event="change" update="checkbox" process="checkbox"></p:ajax>
										<f:selectItems value="#{mailDefenationBean.empsMapInDept}" />
									</p:selectManyCheckbox>
								</p:tab>
								<p:tab title="#{msg['sections.directors']}"
									rendered="#{(mailDefenationBean.currentUser.wrkRoleId != 4 or mailDefenationBean.currentUser.wrkSectionId==24)?'true':'false' }">
									<p:selectBooleanCheckbox layout="grid" columns="3"
										id="checkAllFlagBTNForMngr"
										value="#{mailDefenationBean.checkAllDeptEmpsFlagMngr}">

										<p:ajax
											listener="#{mailDefenationBean.checkAllListnerForManagers}"
											
											update=" checkbox2 " event="change"></p:ajax>
									</p:selectBooleanCheckbox>
										&nbsp;&nbsp;&nbsp;
										<p:outputLabel
										style=" font-weight: bold;font-size: 12px;color:#428bca"
										value="#{msg['select.all']}" />
									<br />
									<br />
									<div style="max-height: 22em">
										<p:selectManyCheckbox id="checkbox2"
											value="#{mailDefenationBean.wrkCopyMngRecievers}"
											layout="grid" columns="3">
											<p:ajax event="change" update="checkbox2" process="checkbox2"
												listener="#{mailDefenationBean.onChangeEventCheckBoxAllMngr}"></p:ajax>
											<f:selectItems value="#{mailDefenationBean.mgrMap}" />
										</p:selectManyCheckbox>
									</div>
								</p:tab>
							</p:tabView>
						</p:tab>
					</p:accordionPanel>

				</div>
			</div>
			<p:panelGrid columns="8"
				columnClasses="ui-grid-col-1,ui-grid-col-1,ui-grid-col-1,ui-grid-col-1,ui-grid-col-1 ui-grid-col-1 ui-grid-col-1 ui-grid-col-2"
				layout="grid" styleClass="ui-panelgrid-blank">
				<p:outputLabel value="#{msg['observations']}" />
				<p:outputLabel value="#{msg['urgent.transaction']}" />
				<p:selectBooleanCheckbox value="#{mailDefenationBean.importantFlag}"
					id="isimport">
					<p:ajax process="isimport"></p:ajax>
				</p:selectBooleanCheckbox>
				<p:outputLabel value=" #{msg['secret.explanation']}" />
				<p:selectBooleanCheckbox value="#{mailDefenationBean.secretFlag}"
					id="issecret">
					<p:ajax process="issecret"></p:ajax>
				</p:selectBooleanCheckbox>
				<!-- 				<secc:authorize ifAnyGranted="ROLE_TELECOM"> -->
				<!-- 					<p:outputLabel value="#{msg['outcomiong']}" /> -->
				<!-- 					<p:selectBooleanCheckbox id="createIncomeItem" -->
				<!-- 						value="#{mailDefenationBean.arcRecord.outcomingNumFlag}" /> -->

				<!-- 					<p:selectOneMenu filter="true" filterMatchMode="contains" -->
				<!-- 						style="width:100%" id="letterFrom" styleClass="form-control" -->
				<!-- 						value="#{mailDefenationBean.arcRecord.letterFrom}"> -->
				<!-- 						<f:selectItem itemLabel="#{msg['choose.sender.or.source']} " -->
				<!-- 							itemValue="" /> -->
				<!-- 						<f:selectItems value="#{loadingDataBean.listLetterFrom}" -->
				<!-- 							var="letter" itemLabel="#{letter.wrkLetterFromName}" -->
				<!-- 							itemValue="#{letter.wrkLetterfromId}" /> -->
				<!-- 						<p:ajax process="letterFrom createIncomeItem" /> -->
				<!-- 					</p:selectOneMenu> -->
				<!-- 				</secc:authorize> -->
			</p:panelGrid>
		</p:panel>
	</div>
	<p:dialog widgetVar="print-barcode-dlg" id="confirmSigndialog1"
		width="300" hideEffect="fade" showEffect="explode" dir="rtl"
		modal="true" resizable="false" header="#{msg['print.barcode']}">
		<h:panelGroup id="signfrndlg1">
			<div class="container-fluid">
				<div class="row">
					<div class="row">
						<div class="col-md-2"></div>
						<h:outputLabel value="#{msg['confirm.print.barcode']}" />
					</div>
					<br></br> <br></br>
					<div style="float: left;">
						<p:commandButton value="#{msg['print']}" immediate="true"
							onclick="this.form.target='_blank'" ajax="false"
							icon="ui-icon ui-icon-local-printshop"
							action="#{mailDefenationBean.printBarcode}">
						</p:commandButton>
						<p:commandButton value="#{msg['close']}" immediate="true"
							icon="ui-icon ui-icon-keyboard-arrow-left"
							styleClass=" orange-btn" onclick="PF('print-barcode-dlg').hide()"
							action="mails">
						</p:commandButton>
					</div>

				</div>

			</div>
		</h:panelGroup>

	</p:dialog>
</h:panelGroup>
</html>