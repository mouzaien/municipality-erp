<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:b="http://bootsfaces.net/ui">
<h:head>
	<style>
	.ui-selectonemenu-filter-container {
				 Width:100% !important;
				 direction: rtl;
				 
				}
				 .ui-selectonemenu-items-wrapper{
				 direction: rtl;
				}
				.ui-selectonemenu-panel .ui-selectonemenu-filter{
				padding-right:35px;
				}
				.ui-selectonemenu .ui-selectonemenu-label{
				text-align: right !important;
				}
				
				.card h1:first-child{
				float: right;;
				font-weight:bold;
				font-size: 26px;
				}
				h1 .fa{
				color:#7CB342;
				}
				.card h1:first-child{
				    margin-top: 26px;
				    margin-right: 45px;
				
				}
.ui-selectonemenu-filter-container {
	Width: 100% !important;
	direction: rtl;
}

.ui-selectonemenu-items-wrapper {
	direction: rtl;
}

.ui-selectonemenu-panel .ui-selectonemenu-filter {
	padding-right: 35px;
}

.ui-selectonemenu .ui-selectonemenu-label {
	text-align: right !important;
}

.card h1:first-child {
	float: right;;
	font-weight: bold;
	font-size: 26px;
}

h1 .fa {
	color: #7CB342;
}

.card h1:first-child {
	margin-top: 26px;
	margin-right: 45px;
}

body .ui-chkbox .ui-chkbox-box {
	width: 22px !important;
	height: 22px !important;
}

body .ui-menu {
	width: 212px;
}

.ui-selectonemenu .ui-selectonemenu-label {
	float: right;
}
</style>
</h:head>
<p:accordionPanel style="margin-top:20px" id="acc">
	<p:tab title="#{msg['cover.comment']}">
		<p:outputLabel value="*#{mailDefenationBean.signInfo} "
			style="margin-right: 50px;font-size:small" />
		<p:commandButton style="float:left" value="#{msg['print']}"
			ajax="false" styleClass="btn btn-primary"
			onclick="this.form.target='_blank'"
			rendered="#{mailDefenationBean.selectedCommentSigned}"
			action="#{mailDefenationBean.printReportAction}">
		</p:commandButton>
		<p:outputLabel rendered="#{mailDefenationBean.selectedCommentSigned}"
			style="float:left;font-weight: bold;font-size: 12px; color:#428bca;margin-left: 50px;margin-top: 10px;"
			value="#{msg['print']} #{msg['copy']}" />
		<p:selectBooleanCheckbox
			style="float:left;margin-left: 10px;margin-top: 10px;"
			rendered="#{mailDefenationBean.selectedCommentSigned}"
			value="#{mailDefenationBean.copyLetter}">
		</p:selectBooleanCheckbox>
		<p:commandButton style="float:left" value="#{msg['consult']}"
			styleClass=" teal-btn ui-state-hover" icon="fa fa-search-plus"
			onclick="this.form.target='_blank'" ajax="false"
			rendered="#{!mailDefenationBean.selectedCommentSigned}"
			action="#{mailDefenationBean.viewReportAction}">
		</p:commandButton>
		<p:spacer height="20" width="20"></p:spacer>
		<p:splitButton value="#{msg['comment.signature']}" icon="ui-icon-disk"
			rendered="#{mailDefenationBean.canSign and mailDefenationBean.comment.signedBy eq null}"
			style="float:left">
			<p:menuitem value="#{msg['comment.signature']}"
				rendered="#{mailDefenationBean.canSign}"
				action="#{mailDefenationBean.signCommentActionBtn}" process="@this "
				icon="fa fa-check-square" />
			<p:separator />
			<p:menuitem value="#{msg['president.signature']}"
				action="#{mailDefenationBean.signCommentByNameActionBtn}"
				process="@this" icon="fa fa-check-circle-o"
				rendered="#{mailDefenationBean.managerFlag}" />


		</p:splitButton>
		<p:spacer height="20" width="20"></p:spacer>

		<h:panelGroup id="editBtnP">
			<p:commandButton value="#{msg['save']}" style="float:left"
				rendered="#{!mailDefenationBean.selectedCommentSigned}"
				actionListener="#{mailDefenationBean.commentSaveAction}"
				id="commentSaveButton" />
			<p:commandButton style="float :left;" styleClass="btn btn-default"
				rendered="#{mailDefenationBean.selectedCommentSigned}"
				value="#{msg['update']}" id="editBtn"
				
				actionListener="#{mailDefenationBean.editWrkCommentBtnAction}"
				process="@this,letterForm" icon="fa fa-edit">
			</p:commandButton>
			<p:commandButton id="markbtn" value="#{msg['mark.comment']}" 
				styleClass="btn btn-default" style="float:left;width:5%;"
				rendered="#{mailDefenationBean.canMark}"
				action="#{mailDefenationBean.markCommentAction}" process="@this">
				<p:confirm header="#{msg['confirmation']}"
					message="#{msg['mark.comment.message.confirmation']}"
					icon="ui-icon-alert" />
			</p:commandButton>

    <p:growl id="message" showDetail="true" />
    <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
        <p:commandButton  value="Yes" type="button" styleClass="ui-confirmdialog-yes" icon="pi pi-check" />
        <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="pi pi-times" />
    </p:confirmDialog>      
		</h:panelGroup>
		<!-- 								 -->
		<!-- 						ZONE PANEL  -->
		<p:panelGrid id="letterForm" columns="4"
			columnClasses="ui-grid-col-2,ui-grid-col-6,ui-grid-col-2,ui-grid-col-6,"
			layout="grid" styleClass="ui-panelgrid-blank form-group"
			style="border:0px none; background-color:transparent; direction:rtl">
			<p:outputLabel styleClass="btxt" value="#{msg['redirect.to']}" />
			<p:inputText id="newwrkdtoo"
				disabled="#{mailDefenationBean.selectedCommentSigned}"
				style="width:100%" value="#{mailDefenationBean.comment.appTo}"
				required="true" requiredMessage="#{msg['required.fields']}" />


			<p:outputLabel styleClass="btxt" value="#{msg['subject']}" />
			<p:inputText style="width:100%" id="newwrktoppic"
				disabled="#{mailDefenationBean.selectedCommentSigned}"
				value="#{mailDefenationBean.comment.appSubject}" required="true"
				requiredMessage="#{msg['required.fields']}" />


			<p:outputLabel value=" #{msg['attachments']}" />
			<p:inputText id="attachNB" style="width:100%"
				value="#{mailDefenationBean.comment.appPapers}" required="true"
				requiredMessage="#{msg['required.fields']}" />

			<p:outputLabel value="#{msg['comment.type']}" />
			<p:selectOneMenu id="d" style="width:100%"
				disabled="#{mailDefenationBean.selectedCommentSigned}"
				value="#{mailDefenationBean.comment.commentType}" required="true"
				requiredMessage="#{msg['required.fields']}">
				<f:selectItem itemLabel="#{msg['select']} #{msg['comment.type']}"
					itemValue="" noSelectionOption="true" />
				<f:selectItems var="type" itemValue="#{type.id}"
					itemLabel="#{type.commentTypeName}"
					value="#{mailDefenationBean.commentTypeList}" />
			</p:selectOneMenu>

			<p:outputLabel value="#{msg['upper.image']}" />
			<p:inputText style="width:100%" id="newwrkhighcopy"
				disabled="#{mailDefenationBean.selectedCommentSigned}"
				value="#{mailDefenationBean.comment.firstCopy}" />

			<p:outputLabel value="#{msg['lower.image']}" />
			<p:inputText disabled="#{mailDefenationBean.selectedCommentSigned}"
				id="newwrklowcopy" style="width:100%"
				value="#{mailDefenationBean.comment.secondCopy}" />
			<p:outputLabel styleClass="btxt" value="#{msg['font.size']}" />
			<p:selectOneMenu id="fontSizeText"
				value="#{mailDefenationBean.comment.fontSize}" required="true"
				requiredMessage="#{msg['required.fields']}">
				<f:selectItems value="#{loadingDataBean.fontSizeList}" />
			</p:selectOneMenu>
		</p:panelGrid>
		<p:outputLabel styleClass="btxt" value="#{msg['comment.text']}" />
			<h:panelGroup styleClass="md-inputfield">
				<p:inputTextarea style="width:100%" cols="30" rows="10" placeholder="أدخل نص الخطاب"
					disabled="#{mailDefenationBean.selectedCommentSigned}"
					id="commentconentid"
					value="#{mailDefenationBean.comment.longCommentArabStr}">
					<f:ajax render="commentconentid" execute="commentconentid" event="keyup" ></f:ajax>
				</p:inputTextarea>
			</h:panelGroup>
		<br></br>
		<p:outputLabel value="*#{mailDefenationBean.convMarkingInfo} "
			style="font-size:small ;color: #428bca" />

	</p:tab>

</p:accordionPanel>

<!-- <h:panelGroup id="letterInfo"> -->
<!-- 	<br></br> -->
<!-- 	<div class="col-lg-12" -->
<!-- 		style="background-color: white; border-top: 5px solid #428BCA"> -->
<!-- 		<br></br> -->
<!-- 		<h:panelGroup id="signBtn"> -->
<!-- 			<div class="col-md-8 " -->
<!-- 				style="margin-right: 260px; margin-bottom: 20px"> -->
<!-- 				<h:panelGroup> -->
<!-- 					<div class="row"> -->
<!-- 						<h:panelGroup id="ccc10" -->
<!-- 							rendered="#{!mailDefenationBean.selectedCommentSigned}"> -->
<!-- 							<div class="col-md-3"> -->
<!-- 								<p:commandButton id="markbtn" value="#{msg['mark.comment']}" -->
<!-- 									styleClass="btn btn-default" -->
<!-- 									style="width:100%;height: 34px;font-family: kufi !important;" -->
<!-- 									rendered="#{mailDefenationBean.canMark}" -->
<!-- 									action="#{mailDefenationBean.markCommentAction}" -->
<!-- 									process="@this"> -->
<!-- 									<p:confirm header="#{msg['confirmation']}" -->
<!-- 										message="#{msg['mark.comment.message.confirmation']}" -->
<!-- 										icon="ui-icon-alert" /> -->
<!-- 								</p:commandButton> -->
<!-- 								<p:tooltip for="markbtn" value="" trackMouse="true"> -->
<!-- 									<p:outputLabel value="#{mailDefenationBean.markingInfo}" /> -->
<!-- 								</p:tooltip> -->
<!-- 								<p:confirmDialog widgetVar="confirmDlg" global="true" -->
<!-- 									showEffect="explode" hideEffect="explode"> -->
<!-- 									<p:commandButton value="#{msg['cancel']}" type="button" -->
<!-- 										styleClass="ui-confirmdialog-no" icon="ui-icon-close" /> -->
<!-- 									<p:commandButton value="#{msg['confirm']}" type="button" -->
<!-- 										styleClass="ui-confirmdialog-yes" icon="ui-icon-check" /> -->
<!-- 								</p:confirmDialog> -->
<!-- 							</div> -->
<!-- 						</h:panelGroup> -->
<!-- 						<h:panelGroup id="ccc8" -->
<!-- 							rendered="#{!mailDefenationBean.selectedCommentSigned}"> -->
<!-- 							<div class="ui-g-12 ui-md-2"></div> -->
<!-- 						</h:panelGroup> -->
<!-- 						<h:panelGroup id="ccc"> -->
<!-- 							<div class="col-md-3"></div> -->
<!-- 						</h:panelGroup> -->

<!-- 					</div> -->
<!-- 				</h:panelGroup> -->
<!-- 			</div> -->
<!-- 		</h:panelGroup> -->
<!-- 		<div class="row "></div> -->
<!-- 	</div> -->
<!-- </h:panelGroup> -->

<!-- 	<div class="text-center"> -->
<p:dialog widgetVar="confirm-sign-dlg" id="confirmSigndialog"
	hideEffect="fade" showEffect="explode" dir="rtl" modal="true"
	resizable="false" header="#{msg['confirm.signature']}">
	<h:panelGroup id="signfrndlg">

		<div class="container-fluid">
			<div class="row">
				<div class="col-md-8">
					<div class="container-fluid">
						<div class="row" style="margin-bottom: 3px;">
							<div class="col-md-12">
								<p:password id="confrmpass"
									placeholder="#{msg['enter.signature.code']}"
									style="width: 310px;"
									value="#{mailDefenationBean.confirmPassword}" />
							</div>
						</div>
						<div class="row" style="margin-bottom: 3px;">
							<div class="col-md-12">
								<p:selectOneMenu id="signlist"
									value="#{mailDefenationBean.selectedUserInSignComment}"
									panelStyle="width:320px" effect="fade"
									style="width:310px;direction: rtl;" filter="true"
									filterMatchMode="contains">
									<f:selectItem itemLabel="#{msg['select.receiver']}"
										itemValue="" />
									<f:selectItems
										value="#{mailDefenationBean.commentSignEmployeesList}" />
								</p:selectOneMenu>
							</div>

						</div>
						<div class="row" style="margin-bottom: 3px;">
							<div class="col-md-12">
								<p:selectCheckboxMenu label="#{msg['comment.copy']}"
									id="commChkbx" filter="true" filterMatchMode="contains"
									style="width:310px;direction: rtl; "
									value="#{mailDefenationBean.commentCopyReciever}">
									<f:selectItems value="#{mailDefenationBean.mgrMap}" />
								</p:selectCheckboxMenu>
							</div>

						</div>
						<p:separator />
						<div class="row" style="margin-bottom: 3px;">
							<div class="col-md-12">
								<p:commandButton value="#{msg['sign.comment']}"
									class="btn btn-default" process="signfrndlg"
									style="width: 100%;" type="submit" icon="fa fa-legal"
									action="#{mailDefenationBean.signCommentAction}" />
							</div>

						</div>
					</div>
				</div>
				<div class="col-md-4">
					<img
						src="#{facesContext.externalContext.requestContextPath}/resources/images/key-icon.png"
						width="120" height="120"></img>
				</div>
			</div>

		</div>

	</h:panelGroup>

</p:dialog>
<!-- 	</div> -->
<!-- </div> -->
</html>